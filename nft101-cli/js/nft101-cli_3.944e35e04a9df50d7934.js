(window.webpackJsonp=window.webpackJsonp||[]).push([["nft101-cli_3"],{"3Tn3":function(e,t,n){"use strict";var a=n("pZEK");t.a=class extends a.f{render(){return a.c.createElement("div",{className:"footer"},"©2021 NFTSwap")}}},TklU:function(e,t,n){(t=n("cFq8")(!1)).push([e.i,'\n.details {\n\tdisplay: -webkit-box;\n\tdisplay: flex;\n\tpadding-top: 145px;\n\t/* width: 1116px; */\n\tmargin: auto;\n\t-webkit-box-pack: center;\n\t        justify-content: center;\n}\n\n.details .empty {\n\t\n}\n\n.details .left {\n\twidth: 440px;\n\theight: 440px;\n\tmargin-right: 50px;\n\toverflow: hidden;\n\tdisplay: -webkit-box;\n\tdisplay: flex;\n\t-webkit-box-align: center;\n\t        align-items: center;\n}\n\n.details .left * {\n\twidth: 100%;\n}\n\n.details .right {\n\tmin-width: 500px;\n\tmax-width: 600px;\n}\n\n.details .txt1 {\n\tfont-size: 24px;\n\tcolor: #000;\n\tline-height: 34px;\n\tpadding-bottom: 5px;\n}\n\n.details .txt2 {\n\tfont-size: 24px;\n\tcolor: #117E52;\n\tline-height: 63px;\n}\n\n.details .line {\n\twidth: 330px;\n\theight: 1px;\n\tbackground-color: #000;\n}\n\n.details .txt3 {\n\tpadding-top: 21px;\n\tfont-size: 12px;\n\tline-height: 12px;\n}\n\n.details .txt4 {\n\tpadding-top: 11px;\n\tdisplay: -webkit-box;\n\tdisplay: flex;\n}\n\n.details .txt4 div {\n\theight: 17px;\n\tpadding-right: 15px;\n\tfont-size: 10px;\n\tline-height: 17px;\n\tborder-right: solid #000 1px;\n\tdisplay: -webkit-box;\n\tdisplay: flex;\n\t-webkit-box-align: center;\n\t        align-items: center;\n\tmargin-right: 13px;\n}\n\n.details .txt4 div::before {\n\tcontent: "";\n\tdisplay: inline-block;\n\twidth: 12px;\n\theight: 12px;\n\tbackground-color: #000;\n\tmargin-right: 10px;\n\tborder-radius: 12px;\n}\n\n.details .txt4 div:last-child {\n\tborder-right: none;\n}\n\n.details .txt7 {\n\tpadding-top: 25px;\n\tfont-size: 14px;\n\tline-height: 13px;\n}\n\n.details .txt6_no_data {\n\theight: 210px;\n}\n\n.details .txt5 {\n\tpadding-top: 28px;\n\t/* padding-bottom: 28px; */\n\tfont-size: 14px;\n\tline-height: 14px;\n\tdisplay: -webkit-box;\n\tdisplay: flex;\n}\n\n.details .txt5 div {\n\t/* margin-right: 28px; */\n\tcolor: #787878;\n\twidth: 200px;\n\toverflow: hidden;\n\twhite-space: nowrap;\n\ttext-overflow: ellipsis;\n}\n\n.details .txt5 span {\n\tcolor: #000;\n}\n\n.details .txt6 {\n\tpadding-top: 28px;\n\tfont-size: 14px;\n\tline-height: 14px;\n\tdisplay: -webkit-box;\n\tdisplay: flex;\n}\n\n.details .txt6 div {\n\t/* margin-right: 50px; */\n\t/* width: 200px; */\n}\n\n.details .txt6 div > span {\n\twidth: 125px;\n\tdisplay: inline-block;\n\tcolor: #787878;\n}\n\n.details .box1 {\n\tmargin-top: 40px;\n\tdisplay: -webkit-box;\n\tdisplay: flex;\n}\n\n.details .box1 .btn {\n\twidth: 180px;\n\theight: 40px;\n\tline-height: 40px;\n\ttext-align: center;\n\tfont-size: 16px;\n\tborder: solid #000 1px;\n\tborder-radius: 5px;\n\tmargin-right: 14px;\n\tcursor: pointer;\n}\n\n.details .box1 .btn:hover {\n\tcolor: #fff;\n\tbackground-color: #000;\n}\n\n.details .box1 .btn:active {\n\t/* color: #fff;\n\tbackground-color: #444; */\n}\n',""]),e.exports=t},YUX2:function(e,t,n){"use strict";n.r(t);var a=n("pZEK"),l=n("H4hP"),i=n.n(l),r=n("ZjpE"),c=n("3Tn3"),s=n("csPc"),o=n("uV9r"),d=n("JQfh"),p=n("hzeW"),m=n("qzGn");n("yCRm");class u extends a.f{constructor(e){super(e),i.a.assert(!u._Instance),u._Instance=this}triggerRemove(){u._Instance=void 0}static get instance(){return i.a.assert(u._Instance),u._Instance.refs}render(){return a.c.createElement("div",null,a.c.createElement("div",{className:"txt1"},"Min Sell Price ",">="," ",100," "),a.c.createElement("input",{className:"input1",ref:"minSell"}),a.c.createElement("div",{className:"txt1"},"Max Sell Price ",">= Min Sell Price"),a.c.createElement("input",{className:"input1",ref:"maxSell"}),a.c.createElement("div",{className:"txt1"},"Input YEAR DAYS ",">="," ",1," DAY"),a.c.createElement("input",{className:"input1",ref:"day"}))}}t.default=class extends a.b{constructor(){super(...arguments),this.state={data:null,historyBuys:null}}async _test(e){var t=o.a.fee_plan.api;console.log("fee_plan.feeToVoterAtFirst",await t.feeToVoterAtFirst().call()),console.log("fee_plan.feeToVoter       ",await t.feeToVoter().call()),console.log("fee_plan.feeToTeamAtFirst ",await t.feeToTeamAtFirst().call()),console.log("fee_plan.feeToTeam        ",await t.feeToTeam().call());var n=await d.h.orderTotalVotes(e.orderId);console.log("vp.orderTotalVotes",n);var a=await t.formula(e.order.maxSellPrice,!0,n).call();console.log(a)}async triggerLoad(){await this._fetchData()}async _fetchData(){var e=await d.c.assetSellingOf(this.params.token||"",BigInt(this.params.tokenId)),t=e.selling?await d.c.historyBuys(e.selling.orderId):null;this.setState({data:e,historyBuys:t})}async _vote(e){var t=e.selling;try{var{value:n,ok:a}=await new Promise(e=>{m.a.prompt({text:"Input vote count",value:n},(t,n)=>e({value:t,ok:n}))});if(!a)return;await p.a.show(),await d.h.marginVote(t.orderId,BigInt(n)*BigInt(1e18)),m.a.alert("Vote OK",()=>this._fetchData())}finally{p.a.close()}}async _sell(e){try{var{minSellPrice:t,maxSellPrice:n,lifespan:l,ok:r}=await new Promise(e=>{m.a.show({text:a.c.createElement(u,null),buttons:{"取消":()=>e({ok:!1}),"@确定":function(){var t=u.instance,n=BigInt(t.minSell.value);i.a.assert(n,"Invalid min sell price");var a=BigInt(t.maxSell.value);i.a.assert(a>=n,"Invalid max sell price");var l=BigInt(t.day.value);i.a.assert(l>=1,"Invalid YEAR DAYS"),e({minSellPrice:n,maxSellPrice:a,lifespan:l,ok:!0})}}})});if(!r)return;await p.a.show(),await d.c.sell({token:e.token,tokenId:e.tokenId,maxSellPrice:n*BigInt(1e18),minSellPrice:t*BigInt(1e18),lifespan:l}),this._fetchData()}finally{p.a.close()}}async _buy(e){var t=e.selling;try{var{value:n,ok:a}=await new Promise(e=>{m.a.prompt({text:"Input price",value:n},(t,n)=>e({value:t,ok:n}))});if(!a)return;await p.a.show(),await d.c.buy(t.orderId,BigInt(n)*BigInt(1e18)),m.a.alert("BUY OK",()=>this._fetchData())}finally{p.a.close()}}async _canEndSell(e){var t=e.selling;try{if(await p.a.show(),!await d.c.tryEndBid(t.orderId))return m.a.alert("It can't end");this._fetchData()}finally{p.a.close()}}renderContent(e){var{asset:t,selling:n}=e,l=d.g.addressNoJump();return a.c.createElement("div",{className:"details"},a.c.createElement("div",{className:"left"},-1!=e.tokenURI.indexOf(".mp4")?a.c.createElement("video",{src:e.tokenURI,preload:"auto",autoPlay:!0,loop:!0,playsInline:!0,"webkit-playsinline":"","x5-playsinline":"",style:{width:"100%",height:"100%"}}):a.c.createElement("img",{className:"collectible-detail-image",src:e.tokenURI})),a.c.createElement("div",{className:"right"},a.c.createElement("div",{className:"txt1"},t.name||e.tokenId),a.c.createElement("div",{className:"txt2"},n?a.c.createElement("span",null,s.b(n.order.buyPrice),"（$",s.c(n.order.buyPrice),")"):a.c.createElement("span",null,"Unsold")),a.c.createElement("div",{className:"line"}),a.c.createElement("div",{className:"txt5"},a.c.createElement("div",null,"ARTIST ：",a.c.createElement("span",null,t.artist)),a.c.createElement("div",null,"OWNER ：",a.c.createElement("span",null,t.owner))),n?a.c.createElement("div",null,a.c.createElement("div",{className:"txt6"},a.c.createElement("div",null,a.c.createElement("span",null,"Big Buyer：")," ",s.a(n.order.bigBuyer))),a.c.createElement("div",{className:"txt6"},a.c.createElement("div",null,a.c.createElement("span",null,"Votes："),s.b(n.totalVotes))),a.c.createElement("div",{className:"txt6"},a.c.createElement("div",null,a.c.createElement("span",null,"Min Sell Price："),s.b(n.order.minSellPrice))),a.c.createElement("div",{className:"txt6"},a.c.createElement("div",null,a.c.createElement("span",null,"Max Sell Price："),s.b(n.order.maxSellPrice))),a.c.createElement("div",{className:"txt6"},a.c.createElement("div",null,a.c.createElement("span",null,"Expiry："),new Date(1e3*Number(n.order.expiry)).toString("yyyy-MM-dd hh:mm:ss")))):a.c.createElement("div",{className:"txt6_no_data"}),a.c.createElement("div",{className:"box1"},e.selling?a.c.createElement("div",{className:"btn",onClick:()=>this._buy(e)},"BUY"):null,e.selling||t.owner!=l?null:a.c.createElement("div",{className:"btn",onClick:()=>this._sell(e)},"SELL"),e.selling?a.c.createElement("div",{className:"btn",onClick:()=>this._vote(e)},"VOTE"):null,e.selling&&t.owner==l?a.c.createElement("div",{className:"btn",onClick:()=>this._canEndSell(e)},"ENDSELL"):null)))}render(){var e=this.state.data;return a.c.createElement("div",null,a.c.createElement(r.a,null),e?this.renderContent(e):a.c.createElement("div",{className:"details"},a.c.createElement("div",{className:"empty"},"Empty data")),a.c.createElement(c.a,null))}}},ZjpE:function(e,t,n){"use strict";var a=n("pZEK"),l=n("FHpT");t.a=class extends a.f{render(){return a.c.createElement("div",{className:"nav"},a.c.createElement("div",{className:"left"},a.c.createElement(a.a,{to:"/"},a.c.createElement("img",{src:n("ma/0")}),"NFT Swap")),a.c.createElement("div",{className:"right"},a.c.createElement("div",null,a.c.createElement(a.a,{to:"/nft101"},"NFT 101")),a.c.createElement("div",null,a.c.createElement(a.a,{to:"/mynft"},"My NFT")),"eth"==l.platform?a.c.createElement("div",null,a.c.createElement(a.a,{to:"/income"},"Income")):null,a.c.createElement("div",null,a.c.createElement(a.a,{to:"/publish"},"Publish"))))}}},csPc:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r}));var a=n("FHpT");function l(e,t){return e&&!function(e){return"0x0000000000000000000000000000000000000000"==e}(e)?e:t||"None"}function i(e){return e?(Number(e)/1e18).toFixed(2):"0.0"}function r(e){return e?(Number(e)/1e18*(Number(a.exchange_rate)||10)).toFixed(1):"0.0"}},hzeW:function(e,t,n){"use strict";var a=n("pZEK"),l=n("GXZj");t.a=class extends l.a{renderBody(){var{text:e}=this.props;return a.c.createElement("div",{className:"loading",ref:"root"},a.c.createElement("div",null,a.c.createElement("span",null,e||"Loading..")))}}},"ma/0":function(e,t,n){e.exports=n.p+"nft101-cli/res/logo.d027a62.jpeg"},yCRm:function(e,t,n){var a=n("/sWS"),l=n("TklU");"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[e.i,l,""]]);var i={insert:"head",singleton:!1},r=(a(l,i),l.locals?l.locals:{});e.exports=r}}]);